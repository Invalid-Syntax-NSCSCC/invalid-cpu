#!/usr/bin/env bash

ARGS='-O=release --dedup --disable-annotation-unknown --add-vivado-ram-address-conflict-synthesis-bug-workaround --split-verilog --disable-all-randomization'

# Workaround
for arg do
  shift
  case $arg in
    (-disable-infer-rw) : ;;
        (*) set -- "$@" "$arg" ;;
  esac
done

if [[ "$OSTYPE" == "darwin"* ]]; then
    firtool_darwin -O=release --dedup --disable-annotation-unknown --add-vivado-ram-address-conflict-synthesis-bug-workaround --split-verilog --disable-all-randomization "$@"
else
    firtool_ubuntu2004 -O=release --dedup --disable-annotation-unknown --add-vivado-ram-address-conflict-synthesis-bug-workaround --split-verilog --disable-all-randomization "$@"
fi
